<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Tue Dec 22 10:28:52 GMT 2020 -->
<title>UserServices</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-12-22">
<meta name="description" content="declaration: package: com.cratediggers.service, class: UserServices">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/UserServices.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.cratediggers.service</a></div>
<h1 title="Class UserServices" class="title">Class UserServices</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">com.cratediggers.service.UserServices</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="type-name-label">UserServices</span>
extends java.lang.Object</pre>
<div class="block">Handles all business logic for the user module.
 Follows model-view-controller design architecture by ensuring that the model and view never interact directly.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>private javax.servlet.http.HttpServletRequest</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#request">request</a></span></code></th>
<td class="col-last">
<div class="block">Contains parameters received by a HTTP request.</div>
</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>private javax.servlet.http.HttpServletResponse</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#response">response</a></span></code></th>
<td class="col-last">
<div class="block">Used to store attributes that are utilised for JSP generation.</div>
</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>private <a href="../dao/UserDAO.html" title="class in com.cratediggers.dao">UserDAO</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#userDAO">userDAO</a></span></code></th>
<td class="col-last">
<div class="block">UserDAO object used to interact with the database (the model).</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">UserServices</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="col-last">
<div class="block">Constructs a UserServices object containing the request and response objects provided by a servlet.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#createUser()">createUser</a></span>()</code></th>
<td class="col-last">
<div class="block">Retrieves email, fullName and password parameters from request object and generates a corresponding user object.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#deleteUser()">deleteUser</a></span>()</code></th>
<td class="col-last">
<div class="block">Obtains user object that corresponds to the id provided as a parameter in the request object.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#editUser()">editUser</a></span>()</code></th>
<td class="col-last">
<div class="block">Obtains user object that corresponds to the id provided as a parameter in the request object.</div>
</td>
</tr>
<tr class="row-color" id="i3">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#listUser()">listUser</a></span>()</code></th>
<td class="col-last">
<div class="block">Provides polymorphism so that listUser(String message) can be called without a specified message.</div>
</td>
</tr>
<tr class="alt-color" id="i4">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#listUser(java.lang.String)">listUser</a></span>&#8203;(java.lang.String&nbsp;message)</code></th>
<td class="col-last">
<div class="block">Retrieves a list of all users from database.</div>
</td>
</tr>
<tr class="row-color" id="i5">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#login()">login</a></span>()</code></th>
<td class="col-last">
<div class="block">Retrieves email, and password parameters from request object.</div>
</td>
</tr>
<tr class="alt-color" id="i6">
<td class="col-first"><code>void</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#updateUser()">updateUser</a></span>()</code></th>
<td class="col-last">
<div class="block">Retrieves userId, email, fullName and password parameters from request object.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="userDAO">
<h3>userDAO</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../dao/UserDAO.html" title="class in com.cratediggers.dao">UserDAO</a></span>&nbsp;<span class="member-name">userDAO</span></div>
<div class="block">UserDAO object used to interact with the database (the model).</div>
</section>
</li>
<li>
<section class="detail" id="request">
<h3>request</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javax.servlet.http.HttpServletRequest</span>&nbsp;<span class="member-name">request</span></div>
<div class="block">Contains parameters received by a HTTP request.</div>
</section>
</li>
<li>
<section class="detail" id="response">
<h3>response</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javax.servlet.http.HttpServletResponse</span>&nbsp;<span class="member-name">response</span></div>
<div class="block">Used to store attributes that are utilised for JSP generation.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<h3>UserServices</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">UserServices</span>&#8203;(<span class="parameters">javax.servlet.http.HttpServletRequest&nbsp;request,
javax.servlet.http.HttpServletResponse&nbsp;response)</span></div>
<div class="block">Constructs a UserServices object containing the request and response objects provided by a servlet.
 Constructs a new userDAO object used to interact with the database (the model).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - object that contains parameters received in HTTP request made to the server.</dd>
<dd><code>response</code> - object that is used to store attributes which are utilised for JSP generation.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="listUser()">
<h3>listUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">listUser</span>()
              throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Provides polymorphism so that listUser(String message) can be called without a specified message.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listUser(java.lang.String)">
<h3>listUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">listUser</span>&#8203;(<span class="parameters">java.lang.String&nbsp;message)</span>
              throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Retrieves a list of all users from database.
 Forwards the list and a specified message onto "user_list.jsp" to display to users.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - to be displayed at top of JSP page</dd>
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createUser()">
<h3>createUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">createUser</span>()
                throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Retrieves email, fullName and password parameters from request object and generates a corresponding user object.
 Checks if user with given email already exists (email must be unique for login).
 If user can be created then the UserDAO creates the record in the database (the model) and displays list of all users in view.
 If not, generates and displays error message.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="editUser()">
<h3>editUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">editUser</span>()
              throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Obtains user object that corresponds to the id provided as a parameter in the request object.
 If user exists then display "user_form.jsp" in the view, setting the user object as an attribute in the response object
  so that pre-existing user object information can auto-fill in form fields.
 If user does not exist then displays error message.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateUser()">
<h3>updateUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">updateUser</span>()
                throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Retrieves userId, email, fullName and password parameters from request object.
 Finds the user objects that currently contains the specified userId and email.
 Checks if a user object with the given email exists that contains a different userId to that which was specified.
 If this is the case, generates and displays in the view an error message since email must be unique.
 Otherwise, modifies the object that contains the specified userId and updates it in the database (the model).
 Password field is encrypted.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteUser()">
<h3>deleteUser</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">deleteUser</span>()
                throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Obtains user object that corresponds to the id provided as a parameter in the request object.
 If this user does not exist then an error message is generated and displayed to the user in the view.
 Otherwise, the userId is checked to observe whether it is equal to 1.
 Record with userId cannot be deleted otherwise access to the site back-end could be lost so an error message is generated and displayed to the user in the view.
 For any other user object, the corresponding record is deleted in the database (the model) and the user informed by a message.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="login()">
<h3>login</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="member-name">login</span>()
           throws <span class="exceptions">javax.servlet.ServletException,
java.io.IOException</span></div>
<div class="block">Retrieves email, and password parameters from request object.
 Checks whether login should be allowed (whether user record with given email contains the specified password).
 If true then sets the session useremail attribute so that the user can bypass the site's adminLoginFilter.
 Displays the admin home in the view.
 If false, displays login failure message and displays "login.jsp" page to user again.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/UserServices.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
